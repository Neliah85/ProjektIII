{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lengy\\\\Desktop\\\\Suli\\\\IKT II\\\\Projekt3-main\\\\ProjektIII\\\\autotraderfrontend\\\\src\\\\components\\\\AddNewCar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddNewCar(props) {\n  _s();\n  const [carData, setCarData] = useState({\n    brand: \"\",\n    type: \"\",\n    color: \"\",\n    myear: \"\"\n  });\n  useEffect(() => {\n    if (props.carObj) {\n      setCarData({\n        brand: props.carObj.brand || '',\n        type: props.carObj.type || '',\n        color: props.carObj.color || '',\n        myear: props.carObj.myear ? new Date(new Date(props.carObj.myear).getTime() - new Date().getTimezoneOffset() * 60000).toISOString().split('T')[0] : ''\n      });\n    } else {\n      // Ha nincs kiválasztott autó módosításra, állítsuk vissza az űrlapot\n      setCarData({\n        brand: \"\",\n        type: \"\",\n        color: \"\",\n        myear: \"\"\n      });\n    }\n  }, [props.carObj]);\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setCarData({\n      ...carData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const url = props.carObj && props.carObj.id ? `http://localhost:5081/Cars/CarById?id=${props.carObj.id}` : `http://localhost:5081/cars`;\n    const method = props.carObj && props.carObj.id ? 'PUT' : 'POST';\n    const request = await fetch(url, {\n      method: method,\n      body: JSON.stringify(carData),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    if (!request.ok) {\n      console.log(\"Hiba a kérés során\");\n      return;\n    }\n    const response = await request.json();\n    props.handleCount(); // Frissítsük az autólistát\n    console.log(response.message);\n    // Töröljük a kiválasztott autót, hogy a következő művelet hozzáadás legyen\n    props.handleCarObj(null);\n  };\n  const buttonText = props.carObj ? 'Módosít' : 'Hozzáad';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"M\\xE1rka\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"brand\",\n        name: \"brand\",\n        value: carData.brand,\n        onChange: handleChange,\n        className: \"form-control\",\n        placeholder: \"Aut\\xF3 m\\xE1rk\\xE1ja\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"T\\xEDpus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"type\",\n        name: \"type\",\n        value: carData.type,\n        onChange: handleChange,\n        className: \"form-control\",\n        placeholder: \"Aut\\xF3 t\\xEDpusa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Sz\\xEDn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"color\",\n        name: \"color\",\n        value: carData.color,\n        onChange: handleChange,\n        className: \"form-control\",\n        placeholder: \"Aut\\xF3 sz\\xEDne\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Gy\\xE1rt\\xE1si \\xE9v\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        id: \"myear\",\n        name: \"myear\",\n        value: carData.myear,\n        onChange: handleChange,\n        className: \"form-control\",\n        placeholder: \"Aut\\xF3 gy\\xE1rt\\xE1si \\xE9ve-h\\xF3nap-nap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: buttonText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n_s(AddNewCar, \"RPkYcHZlk+SOt1ljz72Ajj4LA30=\");\n_c = AddNewCar;\nvar _c;\n$RefreshReg$(_c, \"AddNewCar\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","AddNewCar","props","_s","carData","setCarData","brand","type","color","myear","carObj","Date","getTime","getTimezoneOffset","toISOString","split","handleChange","event","name","value","target","handleSubmit","preventDefault","url","id","method","request","fetch","body","JSON","stringify","headers","ok","console","log","response","json","handleCount","message","handleCarObj","buttonText","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","onChange","className","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/lengy/Desktop/Suli/IKT II/Projekt3-main/ProjektIII/autotraderfrontend/src/components/AddNewCar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nexport default function AddNewCar(props) {\r\n    const [carData, setCarData] = useState({\r\n        brand: \"\",\r\n        type: \"\",\r\n        color: \"\",\r\n        myear: \"\"\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (props.carObj) {\r\n            setCarData({\r\n                brand: props.carObj.brand || '',\r\n                type: props.carObj.type || '',\r\n                color: props.carObj.color || '',\r\n                myear: props.carObj.myear\r\n                    ? new Date(new Date(props.carObj.myear).getTime() - new Date().getTimezoneOffset() * 60000)\r\n                        .toISOString()\r\n                        .split('T')[0]\r\n                    : ''\r\n            });\r\n        } else {\r\n            // Ha nincs kiválasztott autó módosításra, állítsuk vissza az űrlapot\r\n            setCarData({\r\n                brand: \"\",\r\n                type: \"\",\r\n                color: \"\",\r\n                myear: \"\"\r\n            });\r\n        }\r\n    }, [props.carObj]);\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setCarData({ ...carData, [name]: value });\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const url = props.carObj && props.carObj.id\r\n            ? `http://localhost:5081/Cars/CarById?id=${props.carObj.id}`\r\n            : `http://localhost:5081/cars`;\r\n        const method = props.carObj && props.carObj.id ? 'PUT' : 'POST';\r\n\r\n        const request = await fetch(url, {\r\n            method: method,\r\n            body: JSON.stringify(carData),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        });\r\n\r\n        if (!request.ok) {\r\n            console.log(\"Hiba a kérés során\");\r\n            return;\r\n        }\r\n\r\n        const response = await request.json();\r\n        props.handleCount(); // Frissítsük az autólistát\r\n        console.log(response.message);\r\n        // Töröljük a kiválasztott autót, hogy a következő művelet hozzáadás legyen\r\n        props.handleCarObj(null);\r\n    };\r\n\r\n    const buttonText = props.carObj ? 'Módosít' : 'Hozzáad';\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>Márka</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id='brand'\r\n                    name=\"brand\"\r\n                    value={carData.brand}\r\n                    onChange={handleChange}\r\n                    className='form-control'\r\n                    placeholder='Autó márkája'\r\n                />\r\n                <label>Típus</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id='type'\r\n                    name=\"type\"\r\n                    value={carData.type}\r\n                    onChange={handleChange}\r\n                    className='form-control'\r\n                    placeholder='Autó típusa'\r\n                />\r\n                <label>Szín</label>\r\n                <input\r\n                    type=\"text\"\r\n                    id='color'\r\n                    name=\"color\"\r\n                    value={carData.color}\r\n                    onChange={handleChange}\r\n                    className='form-control'\r\n                    placeholder='Autó színe'\r\n                />\r\n                <label>Gyártási év</label>\r\n                <input\r\n                    type=\"date\"\r\n                    id='myear'\r\n                    name=\"myear\"\r\n                    value={carData.myear}\r\n                    onChange={handleChange}\r\n                    className='form-control'\r\n                    placeholder='Autó gyártási éve-hónap-nap'\r\n                />\r\n                <button type='submit' className='btn btn-primary'>{buttonText}</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}