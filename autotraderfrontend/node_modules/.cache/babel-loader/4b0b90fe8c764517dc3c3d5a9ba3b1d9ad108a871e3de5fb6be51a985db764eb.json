{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lengy\\\\Desktop\\\\Suli\\\\IKT II\\\\Projekt3-main\\\\ProjektIII\\\\autotraderfrontend\\\\src\\\\components\\\\AddNewCar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport UpdateCar from './UpdateCar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddNewCar(props) {\n  _s();\n  const [carData, setCardata] = useState({\n    brand: \"\",\n    type: \"\",\n    color: \"\",\n    myear: \"\"\n  });\n  useEffect(() => {\n    if (props.carObj) {\n      setCardata({\n        brand: props.carObj.brand || '',\n        type: props.carObj.type || '',\n        color: props.carObj.color || '',\n        myear: props.carObj.myear ? new Date(new Date(props.carObj.myear).getTime() - new Date().getTimezoneOffset() * 60000).toISOString().split('T')[0] : ''\n      });\n    }\n  }, [props.carObj]); // Ha a `props.carObjData` változik, frissítjük az űrlapot\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setCardata({\n      ...carData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async event => {\n    const url = `http://localhost:5081/cars`;\n    event.preventDefault();\n    const request = await fetch(url, {\n      method: \"POST\",\n      body: JSON.stringify(carData),\n      headers: {\n        \"Content-Type\": \"application/json\"\n        //,\n        //\"Authorize\": jwtDecode(localStorage.getItem(\"token\"))\n      }\n    });\n    if (!request.ok) {\n      console.log(\"error\");\n      return;\n    }\n    const response = await request.json();\n    props.handleCount();\n    console.log(response.message);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"M\\xE1rka\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"brand\",\n        name: \"brand\",\n        value: carData.brand,\n        onChange: handleChange,\n        className: \"form-control\",\n        placeholder: \"Aut\\xF3 m\\xE1rk\\xE1ja\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"T\\xEDpus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"type\",\n        name: \"type\",\n        value: carData.type,\n        onChange: handleChange,\n        className: \"form-control\",\n        placeholder: \"Aut\\xF3 t\\xEDpusa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Sz\\xEDn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"color\",\n        name: \"color\",\n        value: carData.color,\n        onChange: handleChange,\n        className: \"form-control\",\n        placeholder: \"Aut\\xF3 sz\\xEDne\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Gy\\xE1rt\\xE1si \\xE9v\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        id: \"myear\",\n        name: \"myear\",\n        value: carData.myear,\n        onChange: handleChange,\n        className: \"form-control\",\n        placeholder: \"Aut\\xF3 gy\\xE1rt\\xE1si \\xE9ve-h\\xF3nap-nap\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        children: \"Elk\\xFCld\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UpdateCar, {\n        carData: carData,\n        carId: props.carObj.id,\n        handleCount: props.handleCount\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n}\n_s(AddNewCar, \"znttqLGNkndqa5mT8lZpMnikGQQ=\");\n_c = AddNewCar;\nvar _c;\n$RefreshReg$(_c, \"AddNewCar\");","map":{"version":3,"names":["React","useState","useEffect","UpdateCar","jsxDEV","_jsxDEV","AddNewCar","props","_s","carData","setCardata","brand","type","color","myear","carObj","Date","getTime","getTimezoneOffset","toISOString","split","handleChange","event","name","value","target","handleSubmit","url","preventDefault","request","fetch","method","body","JSON","stringify","headers","ok","console","log","response","json","handleCount","message","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","id","onChange","className","placeholder","carId","_c","$RefreshReg$"],"sources":["C:/Users/lengy/Desktop/Suli/IKT II/Projekt3-main/ProjektIII/autotraderfrontend/src/components/AddNewCar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport UpdateCar from './UpdateCar'\r\n\r\nexport default function AddNewCar(props)\r\n{\r\n  const [carData, setCardata] = useState(\r\n    {\r\n      brand: \"\",\r\n      type: \"\",\r\n      color: \"\",\r\n      myear: \"\"\r\n    })\r\n\r\n  useEffect(() =>\r\n  {\r\n    if (props.carObj)\r\n    {\r\n      setCardata({\r\n        brand: props.carObj.brand || '',\r\n        type: props.carObj.type || '',\r\n        color: props.carObj.color || '',\r\n        myear: props.carObj.myear\r\n          ? new Date(new Date(props.carObj.myear).getTime() - new Date().getTimezoneOffset() * 60000)\r\n            .toISOString()\r\n            .split('T')[0]\r\n          : ''\r\n      });\r\n    }\r\n  }, [props.carObj]); // Ha a `props.carObjData` változik, frissítjük az űrlapot\r\n\r\n\r\n  const handleChange = (event) =>\r\n    {\r\n      const { name, value } = event.target\r\n      setCardata({ ...carData, [name]: value })\r\n    }\r\n\r\nconst handleSubmit = async (event) => {\r\n  const url = `http://localhost:5081/cars`\r\n  event.preventDefault()\r\n  const request = await fetch(url, {\r\n    method: \"POST\",\r\n    body: JSON.stringify(carData),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n      //,\r\n      //\"Authorize\": jwtDecode(localStorage.getItem(\"token\"))\r\n    }\r\n  })\r\n  if (!request.ok) {\r\n    console.log(\"error\")\r\n    return\r\n  }\r\n\r\n  const response = await request.json()\r\n  props.handleCount()\r\n  console.log(response.message)\r\n}\r\n\r\nreturn (\r\n  <div>\r\n    <form onSubmit={handleSubmit}>\r\n      <label>Márka</label>\r\n      <input\r\n        type=\"text\"\r\n        id='brand'\r\n        name=\"brand\"\r\n        value={carData.brand}\r\n        onChange={handleChange}\r\n        className='form-control'\r\n        placeholder='Autó márkája'\r\n      />\r\n      <label>Típus</label>\r\n      <input\r\n        type=\"text\"\r\n        id='type'\r\n        name=\"type\"\r\n        value={carData.type}\r\n        onChange={handleChange}\r\n        className='form-control'\r\n        placeholder='Autó típusa'\r\n      />\r\n      <label>Szín</label>\r\n      <input\r\n        type=\"text\"\r\n        id='color'\r\n        name=\"color\"\r\n        value={carData.color}\r\n        onChange={handleChange}\r\n        className='form-control'\r\n        placeholder='Autó színe'\r\n      />\r\n      <label>Gyártási év</label>\r\n      <input\r\n        type=\"date\"\r\n        id='myear'\r\n        name=\"myear\"\r\n        value={carData.myear}\r\n        onChange={handleChange}\r\n        className='form-control'\r\n        placeholder='Autó gyártási éve-hónap-nap'\r\n      />\r\n        <button type='submit' className='btn btn-primary'>Elküld</button>\r\n        <UpdateCar carData={carData} carId={props.carObj.id} handleCount={props.handleCount} />\r\n    </form>\r\n  </div>\r\n)\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}